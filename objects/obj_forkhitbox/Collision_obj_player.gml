if (other.state == states.mach3 && global.upgrade_mach4)
    return;
event_inherited()
